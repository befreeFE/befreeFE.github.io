webpackJsonp([1],{"/QcU":function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[s._m(0),s._v(" "),a("p",[s._v("单例模式的定义是：保证一个类仅有一个实例，并提供一个访问它的全局访问点。应用场景不限于创建单个实例。")]),s._v(" "),a("p",[s._v("一般情况，推荐字面量的形式创建单个对象，而不是基于New的创建方式。设计模式仅提供一种思路，并不限于场景。")]),s._v(" "),s._m(1),s._v(" "),a("p",[s._v("在某些特殊情况，需要直接对DOM元素添加事件监听。")]),s._v(" "),a("p",[s._v("如下，由于每次事件执行都会添加绑定，结果导致元素绑定重复事件，增大性能开销。")]),s._v(" "),a("br"),s._v(" "),a("demo-block",{staticClass:"demo-box",attrs:{jsfiddle:{html:'<template>\n  <div>\n    <div>\n      <h4>1、未使用单例</h4>\n      <el-button type="primary" @click="bind">\n        执行绑定 {{bindNum}}\n      </el-button>\n      <span ref="btn" class="btn">\n        被绑定元素\n      </span>\n      事件处理次数:{{num}}\n    </div>\n    <hr>\n    <div>\n      <h4>2、使用单例</h4>\n      <el-button type="success" @click="bind2">\n        执行绑定 {{bindNum2}}\n      </el-button>\n      <span ref="btn2" class="btn">\n        被绑定元素\n      </span>\n      事件处理次数:{{num2}}\n    </div>\n  </div>\n</template>\n\n\n',script:"\nexport default {\n  data() {\n    return {\n      num: 0,\n      bindNum: 0,\n      num2: 0,\n      bindNum2: 0,\n      single: null\n    }\n  },\n  methods: {\n    toSingle(fn) {\n      let result\n      return result || (result = fn.apply(this, arguments))\n    },\n    bindEvent() {\n      this.$refs.btn.addEventListener('click', () => {\n        this.num++\n      })\n    },\n    bind() {\n      this.bindNum++\n      this.bindEvent();\n    },\n    bind2() {\n      this.bindNum2++\n      if (typeof this.single === 'function') {\n        this.single()\n      }\n    }\n  },\n  mounted() {\n    this.single = this.toSingle(() => {\n      this.$refs.btn2.addEventListener('click', () => {\n        this.num2++\n      })\n      return true\n    })\n  }\n}\n",style:"\n.btn {\n  display: inline-block;\n  line-height: 1;\n  white-space: nowrap;\n  cursor: pointer;\n  background: #fff;\n  border: 1px solid #c4c4c4;\n  color: #1f2d3d;\n  margin: 0;\n  padding: 10px 15px;\n  border-radius: 4px;\n}\n"}}},[a("div",{staticClass:"source",attrs:{slot:"source"},slot:"source"},[[a("div",[a("div",[a("h4",[s._v("1、未使用单例")]),s._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:s.bind}},[s._v("\n        执行绑定 "+s._s(s.bindNum)+"\n      ")]),s._v(" "),a("span",{ref:"btn",staticClass:"btn"},[s._v("\n        被绑定元素\n      ")]),s._v("\n      事件处理次数:"+s._s(s.num)+"\n    ")],1),s._v(" "),a("hr"),s._v(" "),a("div",[a("h4",[s._v("2、使用单例")]),s._v(" "),a("el-button",{attrs:{type:"success"},on:{click:s.bind2}},[s._v("\n        执行绑定 "+s._s(s.bindNum2)+"\n      ")]),s._v(" "),a("span",{ref:"btn2",staticClass:"btn"},[s._v("\n        被绑定元素\n      ")]),s._v("\n      事件处理次数:"+s._s(s.num2)+"\n    ")],1)])]],2),s._v(" "),a("p",[s._v("不使用单例模式的情况下绑定事件将导致元素被绑定多个重复事件。")]),s._v(" "),a("div",{staticClass:"highlight",attrs:{slot:"highlight"},slot:"highlight"},[a("pre",{pre:!0},[a("code",{attrs:{"v-pre":"",class:"language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("h4")]),s._v(">")]),s._v("1、未使用单例"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("h4")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"bind"')]),s._v(">")]),s._v("\n        执行绑定 {{bindNum}}\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"btn"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"btn"')]),s._v(">")]),s._v("\n        被绑定元素\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n      事件处理次数:{{num}}\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("hr")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("h4")]),s._v(">")]),s._v("2、使用单例"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("h4")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"success"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"bind2"')]),s._v(">")]),s._v("\n        执行绑定 {{bindNum2}}\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"btn2"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"btn"')]),s._v(">")]),s._v("\n        被绑定元素\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n      事件处理次数:{{num2}}\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("num")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bindNum")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("num2")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("bindNum2")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("single")]),s._v(": "),a("span",{attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    toSingle(fn) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" result\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" result || (result = fn.apply("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v("))\n    },\n    bindEvent() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.btn.addEventListener("),a("span",{attrs:{class:"hljs-string"}},[s._v("'click'")]),s._v(", () => {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".num++\n      })\n    },\n    bind() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".bindNum++\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".bindEvent();\n    },\n    bind2() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".bindNum2++\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".single === "),a("span",{attrs:{class:"hljs-string"}},[s._v("'function'")]),s._v(") {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".single()\n      }\n    }\n  },\n  mounted() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".single = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".toSingle("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.btn2.addEventListener("),a("span",{attrs:{class:"hljs-string"}},[s._v("'click'")]),s._v(", () => {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".num2++\n      })\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    })\n  }\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),a("span",{attrs:{class:"css"}},[s._v("\n"),a("span",{attrs:{class:"hljs-selector-class"}},[s._v(".btn")]),s._v(" {\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("white-space")]),s._v(": nowrap;\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("cursor")]),s._v(": pointer;\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("background")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("#fff")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{attrs:{class:"hljs-number"}},[s._v("#c4c4c4")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("#1f2d3d")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{attrs:{class:"hljs-number"}},[s._v("15px")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("4px")]),s._v(";\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),s._v(" "),a("br"),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4)],1)},r=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h2",{attrs:{id:"dan-li-mo-shi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dan-li-mo-shi","aria-hidden":"true"}},[s._v("¶")]),s._v(" 单例模式")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h2",{attrs:{id:"shi-li"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shi-li","aria-hidden":"true"}},[s._v("¶")]),s._v(" 示例")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h3",{attrs:{id:"todo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#todo","aria-hidden":"true"}},[s._v("¶")]),s._v(" TODO")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[s._v("在vue中 如"),a("code",{pre:!0},[s._v("@click")]),s._v("的事件，当一个 ViewModel 被销毁时，所有的事件处理器都会自动被删除。你无须担心如何自己清理它们。")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[a("strong",[a("em",[s._v("当我们需要自己绑定事件时就得避免事件重复绑定，以及及时移除不必要的事件。非特殊情况，推荐使用vue事件绑定")])])])}],l={render:n,staticRenderFns:r};t.a=l},"1QfF":function(s,t){},"26dS":function(s,t,a){"use strict";function n(s){a("4XjM")}var r=a("iFcm"),l=a("li7A"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports},"2gLD":function(s,t,a){"use strict";t.a={data:function(){return{showList:[]}},methods:{proxImage:function(){var s=function(){var s=document.createElement("img");return document.getElementById("box").appendChild(s),function(t){s.src=t}}();!function(){var t=new Image;return t.onload=function(){s(this.src)},function(a){s("http://www.w3school.com.cn/i/eg_chinarose.jpg"),t.src=a}}()("http://www.w3school.com.cn/i/eg_tulip.jpg")},uploadFile:function(){var s=this,t=event.target,a=function(t){s.showList.push(t+"开始同步文件.....")},n=function(){var s=[],t=void 0;return function(n){s.push(n),t||(t=setTimeout(function(){a(s.join(",")),clearTimeout(t),t=null,s.length=0},2e3))}}();t.checked&&n(t.value)}},mounted:function(){this.proxImage()}}},"3vuA":function(s,t){},"4XjM":function(s,t){},"7Otq":function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABYCAYAAAC056qlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIxNzMzODNEOTc2NzExRTdCNEVEQkFBMDhDN0RCNjg0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIxNzMzODNFOTc2NzExRTdCNEVEQkFBMDhDN0RCNjg0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjE3MzM4M0I5NzY3MTFFN0I0RURCQUEwOEM3REI2ODQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjE3MzM4M0M5NzY3MTFFN0I0RURCQUEwOEM3REI2ODQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7PMhhlAAAGsklEQVR42uxceWwUZRR/7RawCGUpEEFKoQUBRaBgLRqvgkokVSASpUUjhtQzKETBaDTghaIVRCH2D0A8gsRgBCEeMSoQr6AkiKSaIB5BoxjjnWCi0vX3Mq9mMpntzvF9M9/s7i/5ZdPt7By/fe/Ne+97syWZTIbCYPe+Q342XwO+A+4gQ9BYPzrwZ0sjPtdR4CvCako4SmM67kywA1wU4zkkVjxGH5sb1xTFC4YLwE/AeUXxgqEC3Aw+IxZZFC8A5oMfgKcUxQuG8eBH4GVF8YIhDW4HlxbFC35uj4LrwR5F8YKhFXwN7FsULxguknxwYCGLlwrx2XrwXXBYIYo3Cbww5D7GioAjC0m8nuCzigL/cHAPOLpQxLtH8jdVGAq+HbcFRiHeGeBdGvZbJQJW5at4vcBNYJmm/Q8XAQflo3jLFLurGzj27QR755N4Z4J3RHQdU8AtIVMhY8TT7a5u4O702nwQ7z5wXAxh6CbwxiSL1wAuiTGDeIKs7nTixDuBrG5wKkbxOCHfCo5ImnjsrqcaUDlx6rJNvsxEiHc2eDuZgzrwsSSIx9/w0zG7qxtuBmeZLt4K6XiYhhL5UqtNFY/ddRGZi0qyljVTRom3e9+hcrJaTSkyG+eCi1XvNGwF8CB5W2PdD3bm2GYM6V3wfoCsAaPDymJC0BEzWB1/m3s8WO/78s3nQloS3Gs0CsjnOxX8/6IjHzGDcL0lEHv5fJvH3f5G1sTAMo3iceVxfdwx7yGP7sousjOAe+nsxvCXOTQW8WB15+HlFo+bb5EyqdbGk23/5xvOnWTNp9Q4LnClJvH6qtq3r5gH4U7EywEKt3ZwWKyW12LbyZoW7YqN7FbHbTna8+BVGgTMSIq1N8qY9zCFX3QZKc2DN23CMc4Br3BcIE8L7NWUPK+RV/2WB6tjq9gV9oAeUprJjvfYzT92uLsqXA3L26xVPAjXR9y1NoKE9jTwc5ckl8ctVA/8fMtlJQQ8ptNtV0YkHKPB5b33SM/yJY9uLNRmebC6aXh5S7O7Ojsh7Vni1KvgDMXH+5kNA9b3h1LLE3fdEKFwjH7d3CEXyMWqxADwVh1u20ZmjfkfBa/TsN/FYihqxMPOeKLphhgEOp7j/9sk1VFtfb7LNteYB+E4Cz9I1jhD1MgW85xVwqekdpHne/YyxL6/w1peW0zCecWfIrJKcB7ZHMptYXXTVXYeNOJ1spYYlca+wOKJu66P+O7qRE8f294GHlN47EnQoDGo5T1O8T/KWe5j2+/IaqDGYn2lDnddYIA7lvvcnqufXxQevwlaDPMsHjbmxHRjzO5qL5n8gCsDldNRvK7T6sfyVlGM46kOBLnLP6k49rXCoMq8iveFh+Q0KtST/1U9dtsXFactMz2Jh8TwEbxcCv7q8yDfgF8rFq8iS2clFzYoPo9rPd8wIOAbctIdHnackSpgq6baN8h8yYdk9edUYQZc9yRf5ZkUyDwFcHmWz3BXY76kNE/lELhDyqgjZC0tpqW0GkzWChYvdPd3+ewPsv9/fV4w3zgWKhRwCYxqld/alu+6d5M1b2fPBXnRmBeleXzrZXIfs+AHjZ8DXwJ/9GD5p0vImC3xruuO3xwgjl2pOPYdgHh1vsSzicgXtY6stvgmcVN2bW6JO0f3/yFrJnhjyDRlLtgiN43JPm9kIzTE4HEQ8DPf4rmIyatdvMY6yMVF2c23K873fpc8zk/SzylLL4XncT/EW+6nq+ImHOeBu8j9aZvlioUjCf5+W+M8TPST4vOY57mr0g2WZkmk2YVXGNRtUZ2vjoLhTAglHkyXBxh59f6o7e2/yGpfdRokno7H6WeHtTwW8AWypt3bRbB7wS8NEo5DSmVU4oWZz+Mntw8GyMV0Yo6kSFpqbhjPkcCW57DC/aBJwjF0LlhND+W2hoMT5Is17r8pX8VrkiReJ6Y521RJF2+g1LM7SP/DyhVSPiZePH5gZjX4lTQCorqOqfY/yhIiFjcLJkoDYZbTAiJEI1kDnuFSFVvKouMkuVvDWf35NprwU0hca1ciy+g0yfI4ueXWD/+MCI/X8jBj2kAP6CdFQkfU4rE18doAd2Z4ipqHuseIaFWUHDREJR4PaPPsG6+IDUlQjO0OE6O6YfDDy1Mov1AXRapSS8FWwUzHhCjEayEzJhBUoz8yjGrd4s2l/MVYneKNJ/2/IRUnanSK10L5DW3ileS5y2oV7yyK7mmhuDBEl3j5bnVd5aRy8VIFIt4AHeJxv2twAYiX1iFeMxUGeqgWj+dD5lABQaV4l5CZPTht+E+AAQD3jWMRjMd+lwAAAABJRU5ErkJggg=="},"8qTE":function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"demo-block",class:[s.blockClass,{hover:s.hovering}],on:{mouseenter:function(t){s.hovering=!0},mouseleave:function(t){s.hovering=!1}}},[s._t("source"),s._v(" "),a("div",{staticClass:"meta"},[a("div",{staticClass:"description"},[s._t("default"),s._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:s.langConfig["tooltip-text"],placement:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:s.goJsfiddle}},[s._v(s._s(s.langConfig["button-text"]))])],1)],2),s._v(" "),s._t("highlight")],2),s._v(" "),a("div",{staticClass:"demo-block-control",on:{click:function(t){s.isExpanded=!s.isExpanded}}},[a("transition",{attrs:{name:"arrow-slide"}},[a("i",{class:[s.iconClass,{hovering:s.hovering}]})]),s._v(" "),a("transition",{attrs:{name:"text-slide"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:s.hovering,expression:"hovering"}]},[s._v(s._s(s.controlText))])])],1)],2)},r=[],l={render:n,staticRenderFns:r};t.a=l},"93Xo":function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return s.showSideNav?a("div",{staticClass:"side-nav"},[a("el-menu",{attrs:{"default-active":s.$route.path,router:""}},s._l(s.routesConfig,function(t,n){return t.chlidren?s._l(s.routesConfig,function(t,n){return a("el-submenu",{key:n,attrs:{index:t.path}},[s._v("\n      "+s._s(t.name)+"\n      "),s._l(t,function(t,n){return a("el-menu-item",{key:n,attrs:{index:t.path}},[s._v("\n        "+s._s(t.name)+"\n      ")])})],2)}):a("el-menu-item",{key:n,attrs:{index:t.path}},[s._v(s._s(t.name))])}))],1):s._e()},r=[],l={render:n,staticRenderFns:r};t.a=l},C2bR:function(s,t,a){"use strict";t.a={data:function(){return{num:0,bindNum:0,num2:0,bindNum2:0,single:null}},methods:{toSingle:function(s){var t=void 0;return t||(t=s.apply(this,arguments))},bindEvent:function(){var s=this;this.$refs.btn.addEventListener("click",function(){s.num++})},bind:function(){this.bindNum++,this.bindEvent()},bind2:function(){this.bindNum2++,"function"==typeof this.single&&this.single()}},mounted:function(){var s=this;this.single=this.toSingle(function(){return s.$refs.btn2.addEventListener("click",function(){s.num2++}),!0})}}},CFgW:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("2gLD"),r=a("QwWi"),l=a("VU/8"),e=l(n.a,r.a,null,null,null);t.default=e.exports},Cu1i:function(s,t,a){"use strict";t.a={data:function(){return{hovering:!1,isExpanded:!1}},props:{jsfiddle:Object,extends:Object},methods:{goJsfiddle:function(){var s=this.jsfiddle,t=s.script,a=s.html,n=s.style,r=(t||"").replace(/export default/,"var Main =").trim(),l='<script src="//unpkg.com/vue/dist/vue.js"><\/script>\n<script src="//unpkg.com/element-ui@1/lib/index.js"><\/script>\n<div id="app">\n'+a.trim()+"\n</div>",e='@import url("//unpkg.com/element-ui@1/lib/theme-default/index.css");\n'+(n||"").trim()+"\n";r=r?r+"\nvar Ctor = Vue.extend(Main)\nnew Ctor().$mount('#app')":"new Vue().$mount('#app')";var v={js:r,css:e,html:l,panel_js:3,panel_css:1},i=document.getElementById("fiddle-form")||document.createElement("form");i.innerHTML="";var c=document.createElement("textarea");i.method="post",i.action="https://jsfiddle.net/api/post/library/pure/",i.target="_blank";for(var _ in v)c.name=_,c.value=v[_].toString(),i.appendChild(c.cloneNode());i.setAttribute("id","fiddle-form"),i.style.display="none",document.body.appendChild(i),i.submit()}},computed:{langConfig:function(){return{"hide-text":"隐藏代码","show-text":"显示代码","button-text":"在线运行","tooltip-text":"前往 jsfiddle.net 运行此示例"}},blockClass:function(){return"demo-"+this.$router.currentRoute.path.split("/").pop()},iconClass:function(){return this.isExpanded?"el-icon-caret-top":"el-icon-caret-bottom"},controlText:function(){return this.isExpanded?this.langConfig["hide-text"]:this.langConfig["show-text"]},codeArea:function(){return this.$el.getElementsByClassName("meta")[0]},codeAreaHeight:function(){return this.$el.getElementsByClassName("description").length>0?Math.max(this.$el.getElementsByClassName("description")[0].clientHeight,this.$el.getElementsByClassName("highlight")[0].clientHeight):this.$el.getElementsByClassName("highlight")[0].clientHeight}},watch:{isExpanded:function(s){this.codeArea.style.height=s?this.codeAreaHeight+1+"px":"0"}},mounted:function(){var s=this;this.$nextTick(function(){var t=s.$el.getElementsByClassName("highlight")[0];0===s.$el.getElementsByClassName("description").length&&(t.style.width="100%",t.borderRight="none")})}}},Cz8s:function(s,t,a){"use strict";function n(s){a("3vuA")}var r=a("wqBJ"),l=a("ke8W"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports},DiAZ:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[s._m(0),s._v(" "),a("p",[s._v("策略模式的定义是:定义一系列的算法，把它们各自封装成策略类，算法被 封装在策略类内部的方法里。")]),s._v(" "),a("p",[s._v("将不变的部分和变化的部分隔开是每个设计模式的主题，策 略模式也不例外，策略模式的目的就是将算法的使用与算法的实现分离开来。")]),s._v(" "),s._m(1),s._v(" "),a("p",[s._v("策略模式也可以用来封装 一系列的“业务规则”。只要这些业务规则指向的目标一致，并且可以被替换使用，我们就可以 用策略模式来封装它们。")]),s._v(" "),s._m(2),s._v(" "),a("demo-block",{staticClass:"demo-box",attrs:{jsfiddle:{html:'<template>\n  <div>\n    <el-form :label-position="labelPosition" label-width="80px" :model="formLabelAlign">\n      <div style="width:400px">\n        <el-form-item label="用户名">\n          <el-input v-model="formLabelAlign.name" @blur="name"></el-input>\n          <span class="error">{{errorMsg.name}}</span>\n        </el-form-item>\n        <el-form-item label="密码">\n          <el-input v-model="formLabelAlign.password" @blur="password"></el-input>\n          <span class="error">{{errorMsg.password}}</span>\n        </el-form-item>\n        <el-form-item label="手机号">\n          <el-input v-model="formLabelAlign.mobile" @blur="mobile"></el-input>\n          <span class="error">{{errorMsg.mobile}}</span>\n        </el-form-item>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n\n',script:"\n/** *********************策略对象**************************/\nconst strategies = {\n  isNonEmpty: function(value, errorMsg) {\n    if (value === '') {\n      return errorMsg\n    }\n  },\n  minLength: function(value, length, errorMsg) {\n    if (value.length < length) {\n      return errorMsg\n    }\n  },\n  isMobile: function(value, errorMsg) {\n    if (!/(^1[3|5|8][0-9]{9}$)/.test(value)) {\n      return errorMsg\n    }\n  }\n}\n/***********************Validator 类**************************/\nclass Validator {\n  constructor() {\n    this.cache = []\n  }\n  add(value, rules) {\n    let _this = this\n    rules.forEach((rule) => {\n      let strategyAry = rule.strategy.split(':')\n      let errorMsg = rule.errorMsg\n      _this.cache.push(function() {\n        let strategy = strategyAry.shift()\n        strategyAry.unshift(value)\n        strategyAry.push(errorMsg)\n        return strategies[strategy].apply(this, strategyAry)\n      })\n    })\n  }\n  start() {\n    for (var i = 0, validatorFunc; validatorFunc = this.cache[i++];) {\n      var errorMsg = validatorFunc()\n      if (errorMsg) {\n        return errorMsg\n      }\n    }\n  }\n}\n\nexport default {\n  data() {\n    return {\n      labelPosition: 'right',\n      formLabelAlign: {\n        name: '',\n        password: '',\n        mobile: ''\n      },\n      errorMsg: {\n        name: '',\n        password: '',\n        mobile: ''\n      }\n    }\n  },\n  methods: {\n    name() {\n      this.blur('name', [{\n        strategy: 'isNonEmpty',\n        errorMsg: '用户名不能为空'\n      }, {\n        strategy: 'minLength:6',\n        errorMsg: '用户名长度不能小于6 位'\n      }])\n    },\n    password() {\n      this.blur('password', [{\n        strategy: 'isNonEmpty',\n        errorMsg: '密码不能为空'\n      }, {\n        strategy: 'minLength:6',\n        errorMsg: '密码长度不能小于6 位'\n      }])\n    },\n    mobile() {\n      this.blur('mobile', [{\n        strategy: 'isNonEmpty',\n        errorMsg: '手机号不能为空'\n      }, {\n        strategy: 'isMobile',\n        errorMsg: '请输入合法手机号'\n      }])\n    },\n    blur(obj, errorMsg) {\n      let validator = new Validator()\n      validator.add(this.formLabelAlign[obj], errorMsg);\n      this.errorMsg[obj] = validator.start()\n    }\n  },\n  mounted() {\n\n  }\n}\n",style:"\n.btn {\n  display: inline-block;\n  line-height: 1;\n  white-space: nowrap;\n  cursor: pointer;\n  background: #fff;\n  border: 1px solid #c4c4c4;\n  color: #1f2d3d;\n  margin: 0;\n  padding: 10px 15px;\n  border-radius: 4px;\n}\n\n.error {\n  color: #f00;\n}\n"}}},[a("div",{staticClass:"source",attrs:{slot:"source"},slot:"source"},[[a("div",[a("el-form",{attrs:{"label-position":s.labelPosition,"label-width":"80px",model:s.formLabelAlign}},[a("div",{staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{on:{blur:s.name},model:{value:s.formLabelAlign.name,callback:function(t){s.formLabelAlign.name=t},expression:"formLabelAlign.name"}}),s._v(" "),a("span",{staticClass:"error"},[s._v(s._s(s.errorMsg.name))])],1),s._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{on:{blur:s.password},model:{value:s.formLabelAlign.password,callback:function(t){s.formLabelAlign.password=t},expression:"formLabelAlign.password"}}),s._v(" "),a("span",{staticClass:"error"},[s._v(s._s(s.errorMsg.password))])],1),s._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{on:{blur:s.mobile},model:{value:s.formLabelAlign.mobile,callback:function(t){s.formLabelAlign.mobile=t},expression:"formLabelAlign.mobile"}}),s._v(" "),a("span",{staticClass:"error"},[s._v(s._s(s.errorMsg.mobile))])],1)],1)])],1)]],2),s._v(" "),a("p",[s._v("不使用Element校验机制的情况下，使用策略模式来完成校验。")]),s._v(" "),a("div",{staticClass:"highlight",attrs:{slot:"highlight"},slot:"highlight"},[a("pre",{pre:!0},[a("code",{attrs:{"v-pre":"",class:"language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v(":label-position")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"labelPosition"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label-width")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"80px"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"formLabelAlign"')]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"width:400px"')]),s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form-item")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"用户名"')]),s._v(">")]),s._v("\n          "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-input")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"formLabelAlign.name"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@blur")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-input")]),s._v(">")]),s._v("\n          "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"error"')]),s._v(">")]),s._v("{{errorMsg.name}}"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form-item")]),s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form-item")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"密码"')]),s._v(">")]),s._v("\n          "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-input")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"formLabelAlign.password"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@blur")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"password"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-input")]),s._v(">")]),s._v("\n          "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"error"')]),s._v(">")]),s._v("{{errorMsg.password}}"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form-item")]),s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form-item")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"手机号"')]),s._v(">")]),s._v("\n          "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-input")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"formLabelAlign.mobile"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@blur")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"mobile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-input")]),s._v(">")]),s._v("\n          "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"error"')]),s._v(">")]),s._v("{{errorMsg.mobile}}"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n        "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form-item")]),s._v(">")]),s._v("\n      "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-form")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-comment"}},[s._v("/** *********************策略对象**************************/")]),s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" strategies = {\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("isNonEmpty")]),s._v(": "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("value, errorMsg")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (value === "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(") {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" errorMsg\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("minLength")]),s._v(": "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("value, length, errorMsg")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (value.length < length) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" errorMsg\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("isMobile")]),s._v(": "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("value, errorMsg")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!"),a("span",{attrs:{class:"hljs-regexp"}},[s._v("/(^1[3|5|8][0-9]{9}$)/")]),s._v(".test(value)) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" errorMsg\n    }\n  }\n}\n"),a("span",{attrs:{class:"hljs-comment"}},[s._v("/***********************Validator 类**************************/")]),s._v("\n"),a("span",{attrs:{class:"hljs-class"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("Validator")]),s._v(" ")]),s._v("{\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".cache = []\n  }\n  add(value, rules) {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" _this = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("\n    rules.forEach("),a("span",{attrs:{class:"hljs-function"}},[s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("rule")]),s._v(") =>")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" strategyAry = rule.strategy.split("),a("span",{attrs:{class:"hljs-string"}},[s._v("':'")]),s._v(")\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" errorMsg = rule.errorMsg\n      _this.cache.push("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" strategy = strategyAry.shift()\n        strategyAry.unshift(value)\n        strategyAry.push(errorMsg)\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" strategies[strategy].apply("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", strategyAry)\n      })\n    })\n  }\n  start() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", validatorFunc; validatorFunc = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".cache[i++];) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" errorMsg = validatorFunc()\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (errorMsg) {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" errorMsg\n      }\n    }\n  }\n}\n\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("labelPosition")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'right'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("formLabelAlign")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("mobile")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      },\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("mobile")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      }\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    name() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".blur("),a("span",{attrs:{class:"hljs-string"}},[s._v("'name'")]),s._v(", [{\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strategy")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'isNonEmpty'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'用户名不能为空'")]),s._v("\n      }, {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strategy")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'minLength:6'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'用户名长度不能小于6 位'")]),s._v("\n      }])\n    },\n    password() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".blur("),a("span",{attrs:{class:"hljs-string"}},[s._v("'password'")]),s._v(", [{\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strategy")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'isNonEmpty'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'密码不能为空'")]),s._v("\n      }, {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strategy")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'minLength:6'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'密码长度不能小于6 位'")]),s._v("\n      }])\n    },\n    mobile() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".blur("),a("span",{attrs:{class:"hljs-string"}},[s._v("'mobile'")]),s._v(", [{\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strategy")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'isNonEmpty'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'手机号不能为空'")]),s._v("\n      }, {\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("strategy")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'isMobile'")]),s._v(",\n        "),a("span",{attrs:{class:"hljs-attr"}},[s._v("errorMsg")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'请输入合法手机号'")]),s._v("\n      }])\n    },\n    blur(obj, errorMsg) {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" validator = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Validator()\n      validator.add("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".formLabelAlign[obj], errorMsg);\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".errorMsg[obj] = validator.start()\n    }\n  },\n  mounted() {\n\n  }\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),a("span",{attrs:{class:"css"}},[s._v("\n"),a("span",{attrs:{class:"hljs-selector-class"}},[s._v(".btn")]),s._v(" {\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("white-space")]),s._v(": nowrap;\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("cursor")]),s._v(": pointer;\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("background")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("#fff")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{attrs:{class:"hljs-number"}},[s._v("#c4c4c4")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("#1f2d3d")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{attrs:{class:"hljs-number"}},[s._v("15px")]),s._v(";\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("4px")]),s._v(";\n}\n\n"),a("span",{attrs:{class:"hljs-selector-class"}},[s._v(".error")]),s._v(" {\n  "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("#f00")]),s._v(";\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])])]),s._v(" "),a("br"),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5)],1)},r=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h2",{attrs:{id:"ce-lue-mo-shi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ce-lue-mo-shi","aria-hidden":"true"}},[s._v("¶")]),s._v(" 策略模式")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h2",{attrs:{id:"shi-li"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shi-li","aria-hidden":"true"}},[s._v("¶")]),s._v(" 示例")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[s._v("如下，表单校验\n"),a("br")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h3",{attrs:{id:"todo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#todo","aria-hidden":"true"}},[s._v("¶")]),s._v(" TODO")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[s._v("在vue中 如"),a("code",{pre:!0},[s._v("@click")]),s._v("的事件，当一个 ViewModel 被销毁时，所有的事件处理器都会自动被删除。你无须担心如何自己清理它们。")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[a("strong",[a("em",[s._v("当我们需要自己绑定事件时就得避免事件重复绑定，以及及时移除不必要的事件。非特殊情况，推荐使用vue事件绑定")])])])}],l={render:n,staticRenderFns:r};t.a=l},E8ih:function(s,t,a){t=s.exports=a("FZ+f")(void 0),t.push([s.i,".btn{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #c4c4c4;color:#1f2d3d;margin:0;padding:10px 15px;border-radius:4px}",""])},JJ1X:function(s,t,a){s.exports=a("gSFJ")},KWv7:function(s,t,a){"use strict";var n=a("zH4n"),r=a("26dS"),l=a("JJ1X"),e=a.n(l),v=a("LLkX"),i=a.n(v),c=a("T5NK"),_=a.n(c),o=[{path:"/",name:"首页",component:r.a},{path:"/patterns",name:"设计模式",component:n.a,redirect:"/patterns/singleton",children:[{path:"/patterns/singleton",name:"单例模式",component:e.a},{path:"/patterns/strategie",name:"策略模式",component:i.a},{path:"/patterns/proxy",name:"代理模式",component:_.a}]}];t.a=o},Kpae:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("div",{staticClass:"footer-main"},[a("p",{staticClass:"footer-main-title"},[s._v("EMO")]),s._v(" "),a("a",{staticClass:"footer-main-link",attrs:{href:"",target:"_blank"}},[s._v("反馈指南")])])])])}],l={render:n,staticRenderFns:r};t.a=l},LLkX:function(s,t,a){s.exports=a("d2Ox")},M93x:function(s,t,a){"use strict";function n(s){a("sLG4")}var r=a("xJD8"),l=a("r2rp"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports},Mtnv:function(s,t,a){var n=a("xvaD");"string"==typeof n&&(n=[[s.i,n,""]]),n.locals&&(s.exports=n.locals);a("rjj0")("0c9e2c5f",n,!0)},NHnr:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),r=a("M93x"),l=a("YaEn"),e=a("zL8q"),v=a.n(e),i=a("q8zI"),c=(a.n(i),a("un2m")),_=a("mzkE"),o=a("Cz8s"),h=a("aDGO");n.default.config.productionTip=!1,n.default.use(v.a),n.default.component("demo-block",c.a),n.default.component("main-footer",_.a),n.default.component("main-header",o.a),n.default.component("side-nav",h.a),new n.default({el:"#app",router:l.a,template:"<App/>",components:{App:r.a}})},QwWi:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[s._m(0),s._v(" "),a("p",[s._v("代理模式是为一个对象提供一个代用ֵ或站位符，以便控制对它的访问。")]),s._v(" "),a("p",[s._v("代理模式的关键是，当客户不方便直接访问一个对象或者不满足需求的时候，提供一个替身对象来控制对这个对象的访问，客户实际上访问的是替身对象。")]),s._v(" "),s._m(1),s._v(" "),a("p",[s._v("如果网速够快，我们就不需要预加载，那就不需要代理对象，可以选择直接请求本体。")]),s._v(" "),a("p",[s._v("下列使用虚拟代理实现，图片占位符预加载。")]),s._v(" "),a("demo-block",{staticClass:"demo-box",attrs:{jsfiddle:{html:'<template>\n  <div id="box">\n  </div>\n</template>\n\n\n',script:"\nexport default {\n  data() {\n    return {\n\n    }\n  },\n  methods: {\n    proxImage() {\n      let myImage = (() => {\n        let imgNode = document.createElement('img')\n        document.getElementById('box').appendChild(imgNode)\n        return function(src) {\n          imgNode.src = src\n        }\n      })()\n\n      let proxyImage = (() => {\n        let img = new Image()\n        img.onload = function() {\n          myImage(this.src)\n        }\n        return function(src) {\n          myImage('http://www.w3school.com.cn/i/eg_chinarose.jpg')\n          img.src = src\n        }\n      })()\n\n      proxyImage('http://www.w3school.com.cn/i/eg_tulip.jpg')\n    }\n  },\n  mounted() {\n    this.proxImage()\n  }\n}\n",style:null}}},[a("div",{staticClass:"source",attrs:{slot:"source"},slot:"source"},[[a("div",{attrs:{id:"box"}})]],2),s._v(" "),a("p",[s._v("使用虚拟代理实现图片预加载")]),s._v(" "),a("div",{staticClass:"highlight",attrs:{slot:"highlight"},slot:"highlight"},[a("pre",{pre:!0},[a("code",{attrs:{"v-pre":"",class:"language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"box"')]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    proxImage() {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" myImage = "),a("span",{attrs:{class:"hljs-function"}},[s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("(")]),s._v(") =>")]),s._v(" {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" imgNode = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),a("span",{attrs:{class:"hljs-string"}},[s._v("'img'")]),s._v(")\n        "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),a("span",{attrs:{class:"hljs-string"}},[s._v("'box'")]),s._v(").appendChild(imgNode)\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("src")]),s._v(") ")]),s._v("{\n          imgNode.src = src\n        }\n      })()\n\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" proxyImage = "),a("span",{attrs:{class:"hljs-function"}},[s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("(")]),s._v(") =>")]),s._v(" {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" img = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Image()\n        img.onload = "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n          myImage("),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".src)\n        }\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("src")]),s._v(") ")]),s._v("{\n          myImage("),a("span",{attrs:{class:"hljs-string"}},[s._v("'http://www.w3school.com.cn/i/eg_chinarose.jpg'")]),s._v(")\n          img.src = src\n        }\n      })()\n\n      proxyImage("),a("span",{attrs:{class:"hljs-string"}},[s._v("'http://www.w3school.com.cn/i/eg_tulip.jpg'")]),s._v(")\n    }\n  },\n  mounted() {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".proxImage()\n  }\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n")])])])]),s._v(" "),s._m(2),s._v(" "),a("p",[s._v("在web开发中，最大的开销就是网络请求。")]),s._v(" "),a("p",[s._v("假设我们在做一个文件同步的功能，当我们选中一个 checkbox 的时候，它对应的文件就会被同步到另外一台备用服务器上面")]),s._v(" "),a("demo-block",{staticClass:"demo-box",attrs:{jsfiddle:{html:'<template>\n  <div>\n    <el-checkbox label="文件1" @change="uploadFile"></el-checkbox>\n    <el-checkbox label="文件2" @change="uploadFile"></el-checkbox>\n    <el-checkbox label="文件3" @change="uploadFile"></el-checkbox>\n    <el-checkbox label="文件4" @change="uploadFile"></el-checkbox>\n    <el-checkbox label="文件5" @change="uploadFile"></el-checkbox>\n    <el-checkbox label="文件6" @change="uploadFile"></el-checkbox>\n    <el-checkbox label="文件7" @change="uploadFile"></el-checkbox>\n    <div v-for="(item,index) in showList" style="margin-top:30px">{{item}}</div>\n    \n</div></template>\n\n\n',script:"\nexport default {\n  data () {\n    return {\n      showList:[]\n    }\n  },\n  methods: {\n        uploadFile () {\n      let target = event.target\n      let synchronousFile = (id)=> {\n        this.showList.push(`${id}开始同步文件.....`)\n      }\n\n      let proxySynchronousFile = (function () {\n        let cache = [], // 保存一段时间内需要同步的ID\n            timer // 定时器\n        return function (id) {\n          cache.push(id)\n          if (timer) { // 保证不会覆盖已经启动的定时器\n            return\n          }\n          timer = setTimeout(function () {\n            synchronousFile(cache.join(',')) // 2 秒后向本体发送需要同步的ID 集合\n            clearTimeout(timer) // 清空定时器\n            timer = null\n            cache.length = 0 // 清空ID 集合\n          }, 2000)\n        }\n      })()\n      if (target.checked) {\n        proxySynchronousFile(target.value)\n      }\n    }\n  }\n}\n",style:null}}},[a("div",{staticClass:"source",attrs:{slot:"source"},slot:"source"},[[a("div",[a("el-checkbox",{attrs:{label:"文件1"},on:{change:s.uploadFile}}),s._v(" "),a("el-checkbox",{attrs:{label:"文件2"},on:{change:s.uploadFile}}),s._v(" "),a("el-checkbox",{attrs:{label:"文件3"},on:{change:s.uploadFile}}),s._v(" "),a("el-checkbox",{attrs:{label:"文件4"},on:{change:s.uploadFile}}),s._v(" "),a("el-checkbox",{attrs:{label:"文件5"},on:{change:s.uploadFile}}),s._v(" "),a("el-checkbox",{attrs:{label:"文件6"},on:{change:s.uploadFile}}),s._v(" "),a("el-checkbox",{attrs:{label:"文件7"},on:{change:s.uploadFile}}),s._v(" "),s._l(s.showList,function(t,n){return a("div",{staticStyle:{"margin-top":"30px"}},[s._v(s._s(t))])})],2)]],2),s._v(" "),a("p",[s._v("虚拟代理合并HTTP请求")]),s._v(" "),a("div",{staticClass:"highlight",attrs:{slot:"highlight"},slot:"highlight"},[a("pre",{pre:!0},[a("code",{attrs:{"v-pre":"",class:"language-html"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件1"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件2"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件3"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件4"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件5"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件6"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("label")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"文件7"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"uploadFile"')]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("el-checkbox")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"(item,index) in showList"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"margin-top:30px"')]),s._v(">")]),s._v("{{item}}"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{attrs:{class:"javascript"}},[s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data () {\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("showList")]),s._v(":[]\n    }\n  },\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n        uploadFile () {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" target = event.target\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" synchronousFile = "),a("span",{attrs:{class:"hljs-function"}},[s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("id")]),s._v(")=>")]),s._v(" {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".showList.push("),a("span",{attrs:{class:"hljs-string"}},[s._v("`"),a("span",{attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v("开始同步文件.....`")]),s._v(")\n      }\n\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" proxySynchronousFile = ("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" cache = [], "),a("span",{attrs:{class:"hljs-comment"}},[s._v("// 保存一段时间内需要同步的ID")]),s._v("\n            timer "),a("span",{attrs:{class:"hljs-comment"}},[s._v("// 定时器")]),s._v("\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("id")]),s._v(") ")]),s._v("{\n          cache.push(id)\n          "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (timer) { "),a("span",{attrs:{class:"hljs-comment"}},[s._v("// 保证不会覆盖已经启动的定时器")]),s._v("\n            "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n          }\n          timer = setTimeout("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n            synchronousFile(cache.join("),a("span",{attrs:{class:"hljs-string"}},[s._v("','")]),s._v(")) "),a("span",{attrs:{class:"hljs-comment"}},[s._v("// 2 秒后向本体发送需要同步的ID 集合")]),s._v("\n            clearTimeout(timer) "),a("span",{attrs:{class:"hljs-comment"}},[s._v("// 清空定时器")]),s._v("\n            timer = "),a("span",{attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n            cache.length = "),a("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{attrs:{class:"hljs-comment"}},[s._v("// 清空ID 集合")]),s._v("\n          }, "),a("span",{attrs:{class:"hljs-number"}},[s._v("2000")]),s._v(")\n        }\n      })()\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (target.checked) {\n        proxySynchronousFile(target.value)\n      }\n    }\n  }\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n")])])])])],1)},r=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h2",{attrs:{id:"dai-li-mo-shi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dai-li-mo-shi","aria-hidden":"true"}},[s._v("¶")]),s._v(" 代理模式")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h3",{attrs:{id:"xu-ni-dai-li"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xu-ni-dai-li","aria-hidden":"true"}},[s._v("¶")]),s._v(" 虚拟代理")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("h3",{attrs:{id:"xu-ni-dai-li-he-bing-http-qing-qiu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xu-ni-dai-li-he-bing-http-qing-qiu","aria-hidden":"true"}},[s._v("¶")]),s._v(" 虚拟代理合并HTTP请求")])}],l={render:n,staticRenderFns:r};t.a=l},T5NK:function(s,t,a){s.exports=a("CFgW")},YOJf:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-content"},[a("router-view")],1),s._v(" "),a("side-nav")],1)},r=[],l={render:n,staticRenderFns:r};t.a=l},YaEn:function(s,t,a){"use strict";var n=a("7+uW"),r=a("/ocq"),l=a("KWv7");n.default.use(r.a),t.a=new r.a({routes:l.a})},aDGO:function(s,t,a){"use strict";function n(s){a("hJR2")}var r=a("r9qv"),l=a("93Xo"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports},ce18:function(s,t,a){"use strict";t.a={data:function(){return{}}}},d2Ox:function(s,t,a){"use strict";function n(s){a("Mtnv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xY0y"),l=a("DiAZ"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.default=i.exports},eFTC:function(s,t){},gSFJ:function(s,t,a){"use strict";function n(s){a("rhxV")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("C2bR"),l=a("/QcU"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.default=i.exports},hJR2:function(s,t){},iFcm:function(s,t,a){"use strict";t.a={data:function(){return{}},mounted:function(){}}},kEZc:function(s,t){},ke8W:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("header",{ref:"header",staticClass:"header"},[a("div",{staticClass:"header-container"},[s._m(0),s._v(" "),0!==s.routesConfig.length?a("el-menu",{staticClass:"el-menu-demo",attrs:{theme:"dark","default-active":s.active,mode:"horizontal",router:""}},[s._l(s.routesConfig,function(t){return a("el-menu-item",{key:t.name,attrs:{index:t.path}},[s._v("\n        "+s._s(t.name)+"\n      ")])}),s._v(" "),a("a",{staticClass:"el-menu--horizontal el-menu-item",attrs:{href:"https://leer0911.github.io/",target:"_blank"}},[s._v("阅读寻知")])],2):s._e()],1)])},r=[function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"logo"},[n("img",{staticClass:"logo-img",attrs:{src:a("7Otq")}}),s._v(" "),n("h1",{staticClass:"logo-txt"},[s._v("EMO")])])}],l={render:n,staticRenderFns:r};t.a=l},li7A:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement;return(s._self._c||t)("div",{staticClass:"home"})},r=[],l={render:n,staticRenderFns:r};t.a=l},mzkE:function(s,t,a){"use strict";function n(s){a("eFTC")}var r=a("ce18"),l=a("Kpae"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports},nttt:function(s,t){},q8zI:function(s,t){},r2rp:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{attrs:{id:"app"}},[a("main-header"),s._v(" "),a("div",{staticClass:"main-cnt"},[a("router-view")],1),s._v(" "),a("main-footer")],1)},r=[],l={render:n,staticRenderFns:r};t.a=l},r9qv:function(s,t,a){"use strict";var n=a("KWv7");t.a={data:function(){return{routesConfig:[],showSideNav:!1}},methods:{getRoute:function(){var s=this;if("/"===this.$route.path)return void(this.showSideNav=!1);n.a.forEach(function(t){-1!==s.$route.path.indexOf(t.path)&&"/"!==t.path&&(s.routesConfig=t.children.map(function(s){return{path:s.path,name:s.name}}))}),this.showSideNav=!0}},watch:{$route:"getRoute"},mounted:function(){this.getRoute()}}},rhxV:function(s,t,a){var n=a("E8ih");"string"==typeof n&&(n=[[s.i,n,""]]),n.locals&&(s.exports=n.locals);a("rjj0")("07f9b54a",n,!0)},sFEb:function(s,t,a){"use strict";t.a={data:function(){return{}},mounted:function(){}}},sLG4:function(s,t){},un2m:function(s,t,a){"use strict";function n(s){a("1QfF")}var r=a("Cu1i"),l=a("8qTE"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports},wqBJ:function(s,t,a){"use strict";var n=a("KWv7");t.a={data:function(){return{routesConfig:[],active:"/",extendObj:{data:function(){return{a:"a"}}}}},methods:{init:function(){this.routesConfig=n.a.map(function(s){return{path:s.path,name:s.name}}),this.active="/"===this.$route.path?"/":this.$route.matched[0].path}},watch:{$route:"init"},mounted:function(){this.init()}}},xJD8:function(s,t,a){"use strict";var n=a("kEZc");a.n(n);t.a={name:"app"}},xY0y:function(s,t,a){"use strict";var n=a("Zrlr"),r=a.n(n),l=a("wxAW"),e=a.n(l),v={isNonEmpty:function(s,t){if(""===s)return t},minLength:function(s,t,a){if(s.length<t)return a},isMobile:function(s,t){if(!/(^1[3|5|8][0-9]{9}$)/.test(s))return t}},i=function(){function s(){r()(this,s),this.cache=[]}return e()(s,[{key:"add",value:function(s,t){var a=this;t.forEach(function(t){var n=t.strategy.split(":"),r=t.errorMsg;a.cache.push(function(){var t=n.shift();return n.unshift(s),n.push(r),v[t].apply(this,n)})})}},{key:"start",value:function(){for(var s,t=0;s=this.cache[t++];){var a=s();if(a)return a}}}]),s}();t.a={data:function(){return{labelPosition:"right",formLabelAlign:{name:"",password:"",mobile:""},errorMsg:{name:"",password:"",mobile:""}}},methods:{name:function(){this.blur("name",[{strategy:"isNonEmpty",errorMsg:"用户名不能为空"},{strategy:"minLength:6",errorMsg:"用户名长度不能小于6 位"}])},password:function(){this.blur("password",[{strategy:"isNonEmpty",errorMsg:"密码不能为空"},{strategy:"minLength:6",errorMsg:"密码长度不能小于6 位"}])},mobile:function(){this.blur("mobile",[{strategy:"isNonEmpty",errorMsg:"手机号不能为空"},{strategy:"isMobile",errorMsg:"请输入合法手机号"}])},blur:function(s,t){var a=new i;a.add(this.formLabelAlign[s],t),this.errorMsg[s]=a.start()}},mounted:function(){}}},xvaD:function(s,t,a){t=s.exports=a("FZ+f")(void 0),t.push([s.i,".btn{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #c4c4c4;color:#1f2d3d;margin:0;padding:10px 15px;border-radius:4px}.error{color:red}",""])},zH4n:function(s,t,a){"use strict";function n(s){a("nttt")}var r=a("sFEb"),l=a("YOJf"),e=a("VU/8"),v=n,i=e(r.a,l.a,v,null,null);t.a=i.exports}},["NHnr"]);
//# sourceMappingURL=app.0b8cf2e3238c53436ead.js.map